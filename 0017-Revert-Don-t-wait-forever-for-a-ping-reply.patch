From 03e77895030f2757e2ae6f9fcbfac98fd83d0358 Mon Sep 17 00:00:00 2001
From: Ray Strode <halfline@gmail.com>
Date: Wed, 28 Oct 2020 14:00:22 +0000
Subject: [PATCH 17/18] Revert "Don't wait forever for a ping reply."

This reverts commit 55902ceddef767907e744df72f0d0c93b8f3dcb0
---
 src/client/plymouth.c | 9 ---------
 1 file changed, 9 deletions(-)

diff --git a/src/client/plymouth.c b/src/client/plymouth.c
index 11b8910..be74ae7 100644
--- a/src/client/plymouth.c
+++ b/src/client/plymouth.c
@@ -75,13 +75,6 @@ typedef struct
         char    *keys;
 } key_answer_state_t;
 
-ply_event_loop_timeout_handler_t timeout_handler(void *user_data)
-{
-        ply_event_loop_t *loop = user_data;
-        ply_trace ("ping: timed out waiting for plymouthd");
-        ply_event_loop_exit(loop, 1);
-}
-
 static char **
 split_string (const char *command,
               const char  delimiter)
@@ -1152,8 +1145,6 @@ main (int    argc,
                                              on_success,
                                              (ply_boot_client_response_handler_t)
                                              on_failure, &state);
-                ply_event_loop_watch_for_timeout (state.loop, 30.0,
-                                                  timeout_handler, state.loop);
         } else if (should_check_for_active_vt) {
                 ply_boot_client_ask_daemon_has_active_vt (state.client,
                                                           (ply_boot_client_response_handler_t)
-- 
2.29.2

